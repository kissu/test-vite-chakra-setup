"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./index-60c8e38a.js");require("@emotion/css"),require("./index-7fafe605.js");var t={position:"absolute",top:"50%",transform:"translateY(-50%)"},i=function(e){var i=e.thumbSize,n=e.trackPercent;e.theme;return Object.assign({},t,{zIndex:1,width:i,height:i,rounded:"full",bg:"#fff",shadow:"sm",left:"calc("+n+"% - "+i+" / 2)",border:"1px",borderColor:"transparent",_focus:{shadow:"outline"},_disabled:{backgroundColor:"gray.300"},_active:{transform:"translateY(-50%) scale(1.15)"}})},n=function(e){var i=e.trackHeight,n=e.trackPercent,r=e.color,a=e.colorMode;return Object.assign({},t,{height:i,bg:"light"===a?r+".500":r+".200",width:n+"%",rounded:"sm"})},r={light:{bg:"gray.200",_disabled:{bg:"gray.300"}},dark:{bg:"whiteAlpha.200",_disabled:{bg:"whiteAlpha.300"}}},a=function(e){var i=e.trackHeight,n=(e.theme,e.colorMode);return Object.assign({},{height:i,borderRadius:"sm",width:"100%"},t,r[n])},s={width:"full",display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"}},o={lg:{thumb:"16px",trackHeight:"4px"},md:{thumb:"14px",trackHeight:"4px"},sm:{thumb:"10px",trackHeight:"2px"}},u=function(e){var t=e.theme,r=e.colorMode,u=e.trackPercent,l=e.size,d=e.color,c=o[l],h={trackHeight:c.trackHeight,thumbSize:c.thumb,theme:t,trackPercent:u,color:d,colorMode:r};return{rootStyle:s,trackStyle:a(h),filledTrackStyle:n(h),thumbStyle:i(h)}};function l(e,t){return function(e,t){var i=t.toString().split(".")[1],n=i?i.length:0;return Number(e.toFixed(n))}(Math.round(e/t)*t,t)}function d(e,t,i){return e>i?i:e<t?t:e}var c={name:"CSlider",mixins:[e.createStyledAttrsMixin("CSlider")],model:{prop:"value",event:"change"},props:{value:Number,defaultValue:Number,isDisabled:Boolean,max:{type:Number,default:100},min:{type:Number,default:0},step:{type:Number,default:1},ariaLabel:String,ariaLabelledBy:String,ariaValueText:String,orientation:{type:String,default:"horizontal"},getAriaValueText:Function,size:{type:String,default:"md"},color:{type:String,default:"blue"},name:String,id:String},provide:function(){var e=this;return{$SliderContext:function(){return e.SliderContext}}},data:function(){return{innerValue:this.defaultValue||0,trackNode:void 0,thumbNode:void 0}},computed:{isControlled:function(){return e.isDef(this.value)},_value:function(){return this.isControlled?this.value:this.innerValue},actualValue:function(){return d(this._value,this.min,this.max)},trackPercentage:function(){return e.valueToPercent(this.actualValue,this.min,this.max)},theme:function(){return this.$chakraTheme()},colorMode:function(){return this.$chakraColorMode()},_id:function(){return this.id||e.useId()},trackId:function(){return"slider-track-"+this._id},thumbId:function(){return"slider-thumb-"+this._id},sliderStyles:function(){return u({color:this.color,colorMode:this.colorMode,size:this.size,theme:this.theme,trackPercent:this.trackPercentage}).rootStyle},componentStyles:function(){return Object.assign({},this.sliderStyles,{py:3})},valueText:function(){return this.getAriaValueText?this.getAriaValueText(this.actualValue):this.ariaValueText},SliderContext:function(){var e=this;return{trackNode:this.trackNode,thumbNode:this.thumbNode,onThumbKeyDown:this.handleThumbKeyDown,onFocus:function(t){return e.$emit("focus",t)},trackPercent:this.trackPercentage,ariaLabelledBy:this.ariaLabelledBy,orientation:this.orientation,isDisabled:this.isDisabled,size:this.size,color:this.color,min:this.min,max:this.max,valueText:this.valueText,value:this.actualValue,trackId:this.trackId,thumbId:this.thumbId}}},mounted:function(){var t=this;this.$nextTick((function(){t.trackNode=e.getElById(t.trackId),t.thumbNode=e.getElById(t.thumbId)}))},methods:{getNewValue:function(t){if(this.trackNode){var i=this.trackNode.getBoundingClientRect(),n=i.left,r=i.width,a=((t.touches?t.touches[0]:t).clientX-n)/r,s=e.percentToValue(a,this.min,this.max);return this.step&&(s=l(s,this.step)),s=d(s,this.min,this.max)}},updateValue:function(e){this.isControlled||(this.innerValue=e),this.$emit("change",e)},handleThumbKeyDown:function(e){var t,i=!1,n=(this.max-this.min)/10;switch(e.key){case"ArrowLeft":case"ArrowDown":t=this.actualValue-this.step,i=!0;break;case"ArrowRight":case"ArrowUp":t=this.actualValue+this.step,i=!0;break;case"PageDown":t=this.actualValue-n,i=!0;break;case"PageUp":t=this.actualValue+n,i=!0;break;case"Home":t=this.min,i=!0;break;case"End":t=this.max,i=!0;break;default:return}i&&(e.preventDefault(),e.stopPropagation()),this.step&&(t=l(t,this.step)),t=d(t,this.min,this.max),this.updateValue(t),this.$emit("keydown",e)},handleMouseUp:function(){document.body.removeEventListener("mousemove",this.handleMouseMove),document.body.removeEventListener("touchmove",this.handleMouseMove),document.body.removeEventListener("mouseup",this.handleMouseUp),document.body.removeEventListener("touchend",this.handleMouseUp)},handleMouseDown:function(e){if(!this.isDisabled){this.$emit("mousedown",e),e.preventDefault();var t=this.getNewValue(e);t!==this.actualValue&&this.updateValue(t),document.body.addEventListener("mousemove",this.handleMouseMove),document.body.addEventListener("touchmove",this.handleMouseMove),document.body.addEventListener("mouseup",this.handleMouseUp),document.body.addEventListener("touchend",this.handleMouseUp),this.thumbNode&&this.thumbNode.focus()}},handleMouseMove:function(e){var t=this.getNewValue(e);this.updateValue(t)}},render:function(e){var t=this,i=this.$slots.default||[];return e(this.as,{class:[this.className],attrs:Object.assign({},{role:"presentation","aria-disabled":this.isDisabled},this.computedAttrs),style:{touchAction:"none"},on:Object.assign({},this.computedListeners,{mousedown:this.handleMouseDown,touchstart:this.handleMouseDown,mouseleave:this.handleMouseUp,touchend:this.handleMouseUp,blur:function(e){t.handleMouseUp(e),t.$emit("blur",e)}})},i.concat([e("input",{attrs:{type:"hidden",value:this.actualValue,name:this.name,id:this._id}})]))}},h={name:"CSliderTrack",mixins:[e.createStyledAttrsMixin("CSliderTrack")],inject:["$SliderContext"],computed:{context:function(){return this.$SliderContext()},componentStyles:function(){return u(Object.assign({},this.context,{theme:this.theme,colorMode:this.colorMode})).trackStyle}},render:function(e){var t=this.context,i=t.isDisabled,n=t.trackId;return e(this.as,{class:[this.className],attrs:Object.assign({},this.computedAttrs,{id:n,"data-slider-track":"","aria-disabled":i}),on:this.computedListeners},this.$slots.default)}},m={name:"CSliderFilledTrack",mixins:[e.createStyledAttrsMixin("CSliderFilledTrack",!0)],inject:["$SliderContext"],computed:{context:function(){return this.$SliderContext()},componentStyles:function(){return u(Object.assign({},this.context,{theme:this.theme,colorMode:this.colorMode})).filledTrackStyle}},render:function(e){var t=this.context.isDisabled;return e(this.as,{class:[this.className],attrs:Object.assign({},this.computedAttrs,{"aria-disabled":t,"data-slider-filled-track":""}),on:this.computedListeners},this.$slots.default)}},b={name:"CSliderThumb",mixins:[e.createStyledAttrsMixin("CSliderThumb",!0)],inject:["$SliderContext"],computed:{context:function(){return this.$SliderContext()},componentStyles:function(){var e=this.context,t=e.orientation,i=e.trackPercent,n=e.size,r=e.color,a=u({trackPercent:i,orientation:t,color:r,size:n,theme:this.theme,colorMode:this.colorMode}).thumbStyle;return Object.assign({},{d:"flex",alignItems:"center",outline:"none",justifyContent:"center"},a)}},render:function(e){var t=this.context,i=t.thumbId,n=t.isDisabled,r=t.onFocus,a=t.onThumbKeyDown,s=t.min,o=t.max,u=t.valueText,l=t.orientation,d=t.value,c=t.ariaLabelledBy;return e(this.as,{class:[this.className],attrs:Object.assign({},this.computedAttrs,{id:i,role:"slider",tabIndex:n?void 0:0,"aria-disabled":n,"aria-valuemin":s,"aria-valuetext":u,"aria-orientation":l,"aria-valuenow":d,"aria-valuemax":o,"aria-labelledby":c}),on:Object.assign({},this.computedListeners,{keydown:a,focus:r})},this.$slots.default)}};exports.CSliderFilledTrack=m,exports.CSliderThumb=b,exports.CSliderTrack=h,exports.default=c;

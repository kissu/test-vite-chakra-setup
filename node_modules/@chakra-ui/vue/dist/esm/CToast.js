import{X as t,Y as e,a as i}from"./index-31b72dba.js";import"./internal-icons-9ada1ec8.js";import"@emotion/css";import"./index-82d14538.js";import o from"vue";import{a as n}from"./anime.es-3650d95a.js";import{c as r}from"./color-mode-observer-322e7c43.js";import s from"./CBox.js";import"./index-acf190c9.js";import{CAlert as a,CAlertIcon as u,CAlertTitle as l,CAlertDescription as c}from"./CAlert.js";import"./CPseudoBox.js";import"./closebutton.styles-9318eb1d.js";import d from"./CCloseButton.js";import f from"./CThemeProvider.js";import p from"./CColorModeProvider.js";var m=t((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Close=e.Alert=void 0;var i={name:"Alert",props:{id:[String,Number],title:[String,Object],close:Function,clear:Function,reset:Function},render:function(t){return t("span",{class:["Breadstick__alert"],attrs:{id:this.id},on:{mouseenter:this.clear,mouseleave:this.reset}},["string"==typeof title?t("div",{class:["Breadstick__alert_text"]},this.title):this.title,!this.title&&this.$slots.default,this.close&&t(o,{props:{close:this.close}})])}};e.Alert=i;var o={name:"Close",props:{close:{type:Function,default:function(){return null}}},render:function(t){return t("button",{class:["Breadstick__alert_close"],attrs:{type:"button","aria-label":this.close},on:{click:this.close}},[t("span",{attrs:{"aria-hidden":!0}},"Ã—")])}};e.Close=o}));e(m);m.Close,m.Alert;var h=t((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"Message",props:{id:{type:Number,default:null},message:{type:[String,Function,Object],default:null},position:{type:String},requestClose:{type:Boolean,default:!1},duration:{type:Number,default:5e3}},data:function(){return{timeout:void 0}},mounted:function(){this.createTimeout()},methods:{close:function(){this.$emit("remove",{id:this.id,position:this.position}),clearTimeout(this.timeout)},onMouseEnter:function(){this.timeout&&clearTimeout(this.timeout)},onMouseLeave:function(){this.createTimeout()},createTimeout:function(){return this.timeout=setTimeout(this.close,this.duration),this.timeout},renderMessage:function(t){if("string"==typeof this.message)return t(m.Alert,{attrs:{id:this.id},props:{clear:this.onMouseEnter,reset:this.onMouseLeave,title:this.message,close:this.close}},this.message);if("function"==typeof this.message){var e=this.message({h:t,id:this.id,onClose:this.close});return t("span",{on:{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave}},[e])}return this.message.constructor&&"VNode"===this.message.constructor.name?t("span",{on:{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave}},[this.message]):null}},render:function(t){return t("span",{},[this.renderMessage(t)])}};e.default=i}));e(h);var v=t((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(n),o=r(h);function r(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function a(t){for(var e=arguments,i=1;i<arguments.length;i++){var o=null!=e[i]?e[i]:{};i%2?s(Object(o),!0).forEach((function(e){u(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function u(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var l={top:[],"top-left":[],"top-right":[],"bottom-left":[],bottom:[],"bottom-right":[]},c=function(t){var e={display:"flex",flexDirection:"column",alignItems:"center"};return t.includes("right")?e.alignItems="flex-end":t.includes("left")&&(e.alignItems="flex-start"),e},d={enter:function(t){return{height:[0,t.clientHeight],opacity:[0,1],scale:[.9,1]}},leave:{height:0,opacity:[1,0],scale:[1,.9]}},f={name:"BreadstickManager",data:function(){return{idCounter:0,positions:l}},props:{notify:Function,default:function(){return null}},created:function(){this.notify(this._notify,this.closeAll)},methods:{createToastState:function(t,e){var i=this,o=++this.idCounter,n=e.hasOwnProperty("position")&&"string"==typeof e.position?e.position:"top";return{id:o,message:t,position:n,showing:!0,duration:void 0===e.duration?5e3:e.duration,onRequestRemove:function(){return i.removeToast(String(o),n)},type:e.type}},_notify:function(t,e){var i=this.createToastState(t,e),o=i.position;o.includes("top")?this.positions[o].unshift(i):this.positions[o].push(i)},closeAll:function(){var t=this;Object.keys(this.positions).forEach((function(e){t.positions[e].forEach((function(i){t.removeToast(i.id,e)}))}))},removeToast:function(t,e){return this.positions[e]=this.positions[e].filter((function(e){return e.id!==t})),this.positions[e]},getStyle:function(t){var e={width:"fit-content",position:"fixed",zIndex:5500};return"top"!==t&&"bottom"!==t||(e.margin="0 auto",e.textAlign="center"),t.includes("top")&&(e.top=0),t.includes("bottom")&&(e.bottom=0),t.includes("left")||(e.right=0),t.includes("right")||(e.left=0),e},getAnimation:function(t,e){var i=d[t];return"function"==typeof i?i.call(this,e):i},enter:function(t,e){var o=this.getAnimation("enter",t);(0,i.default)(a({targets:t},o,{complete:e,easing:"spring(1, 100, 50, 0)"}))},leave:function(t,e){var o=this.getAnimation("leave",t);(0,i.default)(a({targets:t},o,{complete:e,easing:"spring(1, 100, 70, 0)"}))}},render:function(t){var e=this;return t("span",[Object.keys(this.positions).map((function(i){var n=i,r=e.positions[n];return t("TransitionGroup",{style:e.getStyle(n),props:{css:!1},on:{enter:e.enter,leave:e.leave},key:i,class:["Breadstick__manager-"+n],ref:"BreadstickManager_".concat(n)},[r.map((function(i){return t(o.default,{props:a({position:n,key:i.id,message:i.message},i),style:a({},c(n)),on:{remove:function(t){var i=t.id,o=t.position;e.removeToast(i,o)}},key:i.id},e.$slots.default)}))])}))])}};e.default=f}));e(v);var g=t((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(o),n=r(v);function r(t){return t&&t.__esModule?t:{default:t}}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var a="undefined"!=typeof window&&void 0!==window.document,u="undefined"!=typeof window&&window.Vue?window.Vue:i.default;var l=function t(){var e,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,"closeAll",(function(){i.removeAll&&i.removeAll()})),s(this,"bindNotify",(function(t,e){i.createNotification=t,i.removeAll=e})),s(this,"notify",(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.createNotification&&i.createNotification(t,e)})),function(){if(a){var t,e=document.getElementById("breadstick-kitchen");if(e)t=e;else{var i=document.createElement("div");i.id="breadstick-kitchen",i.className="Breadstick",null!=document.body&&document.body.appendChild(i),t=i}var o=document.createElement("div");o.id="breadstick-chef",t.appendChild(o)}}(),e=this.bindNotify,new u({el:"#".concat("breadstick-chef"),render:function(t){return t(n.default,{props:{notify:e}},this.$slots.default)}}).$mount()};e.default=l}));e(g);var y=t((function(t,e){var i;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=new((i=g)&&i.__esModule?i:{default:i}).default,n={install:function(t){t.prototype.$breadstick=o}};e.default=n}));e(y);var b=new(e(t((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"BreadstickBakery",{enumerable:!0,get:function(){return o.default}}),e.default=void 0;var i=n(g),o=n(y);function n(t){return t&&t.__esModule?t:{default:t}}var r=i.default;e.default=r})))),j={name:"CToast",inheritAttrs:!1,props:{status:{type:String,default:"info"},variant:{type:String,default:"solid"},id:{type:String},title:{type:String,default:""},isClosable:{type:Boolean,default:!0},onClose:{type:Function,default:function(){return null}},description:{type:String,default:""}},render:function(t){return t(a,{props:Object.assign({},{status:this.status,variant:this.variant},i(this.$props)),attrs:Object.assign({},{textAlign:"left",boxShadow:"lg",rounded:"md",alignItems:"start",fontFamily:"body",m:2,pr:2,p:4,id:this.id},this.$attrs||{},{"data-chakra-component":"CToast"})},[t(u),t(s,{props:{flex:"1"}},[this.title&&t(l,{},this.title),this.description&&t(c,{},this.description)]),this.isClosable&&t(d,{props:{size:"sm"},attrs:{position:"absolute",right:"4px",top:"4px",color:"currentColor"},on:{click:this.onClose}})])}};export default function(){var t=r.theme;return function(e){var i=e.position;void 0===i&&(i="bottom");var o=e.duration;void 0===o&&(o=5e3);var n=e.render,s=e.title,a=e.description,u=e.status,l=e.variant;void 0===l&&(l="solid");var c=e.isClosable,d={position:i,duration:o};if(n)return b.notify((function(e){var i=e.h,o=e.onClose,r=e.id;return i(f,{props:{theme:t}},[n({onClose:o,id:r})])}),d);b.notify((function(t){var e=t.h,i=t.onClose,o=t.id,n=r.theme,d=r.colorMode,m=r.icons;return e(f,{props:{icons:m,theme:n}},[e(p,{props:{value:d||"light"}},[e(j,{props:{status:u,variant:l,id:""+o,title:s,isClosable:c,onClose:i,description:a}})])])}),d)}}

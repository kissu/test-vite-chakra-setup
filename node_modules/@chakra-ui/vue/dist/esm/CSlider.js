import{T as t,O as e,v as i,M as n,z as a,$ as s}from"./index-31b72dba.js";import"@emotion/css";import"./index-82d14538.js";var o={position:"absolute",top:"50%",transform:"translateY(-50%)"},r=function(t){var e=t.thumbSize,i=t.trackPercent;t.theme;return Object.assign({},o,{zIndex:1,width:e,height:e,rounded:"full",bg:"#fff",shadow:"sm",left:"calc("+i+"% - "+e+" / 2)",border:"1px",borderColor:"transparent",_focus:{shadow:"outline"},_disabled:{backgroundColor:"gray.300"},_active:{transform:"translateY(-50%) scale(1.15)"}})},u=function(t){var e=t.trackHeight,i=t.trackPercent,n=t.color,a=t.colorMode;return Object.assign({},o,{height:e,bg:"light"===a?n+".500":n+".200",width:i+"%",rounded:"sm"})},l={light:{bg:"gray.200",_disabled:{bg:"gray.300"}},dark:{bg:"whiteAlpha.200",_disabled:{bg:"whiteAlpha.300"}}},h=function(t){var e=t.trackHeight,i=(t.theme,t.colorMode);return Object.assign({},{height:e,borderRadius:"sm",width:"100%"},o,l[i])},d={width:"full",display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:.6,cursor:"default",pointerEvents:"none"}},c={lg:{thumb:"16px",trackHeight:"4px"},md:{thumb:"14px",trackHeight:"4px"},sm:{thumb:"10px",trackHeight:"2px"}},m=function(t){var e=t.theme,i=t.colorMode,n=t.trackPercent,a=t.size,s=t.color,o=c[a],l={trackHeight:o.trackHeight,thumbSize:o.thumb,theme:e,trackPercent:n,color:s,colorMode:i};return{rootStyle:d,trackStyle:h(l),filledTrackStyle:u(l),thumbStyle:r(l)}};function b(t,e){return function(t,e){var i=e.toString().split(".")[1],n=i?i.length:0;return Number(t.toFixed(n))}(Math.round(t/e)*e,e)}function f(t,e,i){return t>i?i:t<e?e:t}var p={name:"CSlider",mixins:[t("CSlider")],model:{prop:"value",event:"change"},props:{value:Number,defaultValue:Number,isDisabled:Boolean,max:{type:Number,default:100},min:{type:Number,default:0},step:{type:Number,default:1},ariaLabel:String,ariaLabelledBy:String,ariaValueText:String,orientation:{type:String,default:"horizontal"},getAriaValueText:Function,size:{type:String,default:"md"},color:{type:String,default:"blue"},name:String,id:String},provide:function(){var t=this;return{$SliderContext:function(){return t.SliderContext}}},data:function(){return{innerValue:this.defaultValue||0,trackNode:void 0,thumbNode:void 0}},computed:{isControlled:function(){return e(this.value)},_value:function(){return this.isControlled?this.value:this.innerValue},actualValue:function(){return f(this._value,this.min,this.max)},trackPercentage:function(){return i(this.actualValue,this.min,this.max)},theme:function(){return this.$chakraTheme()},colorMode:function(){return this.$chakraColorMode()},_id:function(){return this.id||n()},trackId:function(){return"slider-track-"+this._id},thumbId:function(){return"slider-thumb-"+this._id},sliderStyles:function(){return m({color:this.color,colorMode:this.colorMode,size:this.size,theme:this.theme,trackPercent:this.trackPercentage}).rootStyle},componentStyles:function(){return Object.assign({},this.sliderStyles,{py:3})},valueText:function(){return this.getAriaValueText?this.getAriaValueText(this.actualValue):this.ariaValueText},SliderContext:function(){var t=this;return{trackNode:this.trackNode,thumbNode:this.thumbNode,onThumbKeyDown:this.handleThumbKeyDown,onFocus:function(e){return t.$emit("focus",e)},trackPercent:this.trackPercentage,ariaLabelledBy:this.ariaLabelledBy,orientation:this.orientation,isDisabled:this.isDisabled,size:this.size,color:this.color,min:this.min,max:this.max,valueText:this.valueText,value:this.actualValue,trackId:this.trackId,thumbId:this.thumbId}}},mounted:function(){var t=this;this.$nextTick((function(){t.trackNode=a(t.trackId),t.thumbNode=a(t.thumbId)}))},methods:{getNewValue:function(t){if(this.trackNode){var e=this.trackNode.getBoundingClientRect(),i=e.left,n=e.width,a=(t.touches?t.touches[0]:t).clientX,o=s((a-i)/n,this.min,this.max);return this.step&&(o=b(o,this.step)),o=f(o,this.min,this.max)}},updateValue:function(t){this.isControlled||(this.innerValue=t),this.$emit("change",t)},handleThumbKeyDown:function(t){var e,i=!1,n=(this.max-this.min)/10;switch(t.key){case"ArrowLeft":case"ArrowDown":e=this.actualValue-this.step,i=!0;break;case"ArrowRight":case"ArrowUp":e=this.actualValue+this.step,i=!0;break;case"PageDown":e=this.actualValue-n,i=!0;break;case"PageUp":e=this.actualValue+n,i=!0;break;case"Home":e=this.min,i=!0;break;case"End":e=this.max,i=!0;break;default:return}i&&(t.preventDefault(),t.stopPropagation()),this.step&&(e=b(e,this.step)),e=f(e,this.min,this.max),this.updateValue(e),this.$emit("keydown",t)},handleMouseUp:function(){document.body.removeEventListener("mousemove",this.handleMouseMove),document.body.removeEventListener("touchmove",this.handleMouseMove),document.body.removeEventListener("mouseup",this.handleMouseUp),document.body.removeEventListener("touchend",this.handleMouseUp)},handleMouseDown:function(t){if(!this.isDisabled){this.$emit("mousedown",t),t.preventDefault();var e=this.getNewValue(t);e!==this.actualValue&&this.updateValue(e),document.body.addEventListener("mousemove",this.handleMouseMove),document.body.addEventListener("touchmove",this.handleMouseMove),document.body.addEventListener("mouseup",this.handleMouseUp),document.body.addEventListener("touchend",this.handleMouseUp),this.thumbNode&&this.thumbNode.focus()}},handleMouseMove:function(t){var e=this.getNewValue(t);this.updateValue(e)}},render:function(t){var e=this,i=this.$slots.default||[];return t(this.as,{class:[this.className],attrs:Object.assign({},{role:"presentation","aria-disabled":this.isDisabled},this.computedAttrs),style:{touchAction:"none"},on:Object.assign({},this.computedListeners,{mousedown:this.handleMouseDown,touchstart:this.handleMouseDown,mouseleave:this.handleMouseUp,touchend:this.handleMouseUp,blur:function(t){e.handleMouseUp(t),e.$emit("blur",t)}})},i.concat([t("input",{attrs:{type:"hidden",value:this.actualValue,name:this.name,id:this._id}})]))}},v={name:"CSliderTrack",mixins:[t("CSliderTrack")],inject:["$SliderContext"],computed:{context:function(){return this.$SliderContext()},componentStyles:function(){return m(Object.assign({},this.context,{theme:this.theme,colorMode:this.colorMode})).trackStyle}},render:function(t){var e=this.context,i=e.isDisabled,n=e.trackId;return t(this.as,{class:[this.className],attrs:Object.assign({},this.computedAttrs,{id:n,"data-slider-track":"","aria-disabled":i}),on:this.computedListeners},this.$slots.default)}},g={name:"CSliderFilledTrack",mixins:[t("CSliderFilledTrack",!0)],inject:["$SliderContext"],computed:{context:function(){return this.$SliderContext()},componentStyles:function(){return m(Object.assign({},this.context,{theme:this.theme,colorMode:this.colorMode})).filledTrackStyle}},render:function(t){var e=this.context.isDisabled;return t(this.as,{class:[this.className],attrs:Object.assign({},this.computedAttrs,{"aria-disabled":e,"data-slider-filled-track":""}),on:this.computedListeners},this.$slots.default)}},x={name:"CSliderThumb",mixins:[t("CSliderThumb",!0)],inject:["$SliderContext"],computed:{context:function(){return this.$SliderContext()},componentStyles:function(){var t=this.context,e=t.orientation,i=t.trackPercent,n=t.size,a=t.color,s=m({trackPercent:i,orientation:e,color:a,size:n,theme:this.theme,colorMode:this.colorMode}).thumbStyle;return Object.assign({},{d:"flex",alignItems:"center",outline:"none",justifyContent:"center"},s)}},render:function(t){var e=this.context,i=e.thumbId,n=e.isDisabled,a=e.onFocus,s=e.onThumbKeyDown,o=e.min,r=e.max,u=e.valueText,l=e.orientation,h=e.value,d=e.ariaLabelledBy;return t(this.as,{class:[this.className],attrs:Object.assign({},this.computedAttrs,{id:i,role:"slider",tabIndex:n?void 0:0,"aria-disabled":n,"aria-valuemin":o,"aria-valuetext":u,"aria-orientation":l,"aria-valuenow":h,"aria-valuemax":r,"aria-labelledby":d}),on:Object.assign({},this.computedListeners,{keydown:s,focus:a})},this.$slots.default)}};export default p;export{g as CSliderFilledTrack,x as CSliderThumb,v as CSliderTrack};

import{T as t}from"./index-31b72dba.js";import"@emotion/css";import"./index-82d14538.js";import i from"./CNoSsr.js";var s={name:"CImage",mixins:[t("CImage")],props:{src:String,fallbackSrc:String,ignoreFalback:Boolean,htmlWidth:String,htmlHeight:String,size:[String,Number]},data:function(){return{image:void 0,hasLoaded:!1}},computed:{componentStyles:function(){return{w:this.size,h:this.size}}},created:function(){process.browser&&this.loadImage(this.src)},methods:{loadImage:function(t){var i=this,s=new window.Image;s.src=t,s.onload=function(t){i.hasLoaded=!0,i.$emit("load",t)},s.onerror=function(t){i.hasLoaded=!1,i.$emit("error",t)}}},render:function(t){var s;return s=this.ignoreFallback?{src:this.src}:{src:this.hasLoaded?this.src:this.fallbackSrc},t(i,[t("img",{class:this.className,attrs:Object.assign({},s,this.computedAttrs,{width:this.htmlWidth,height:this.htmlHeight})})])}};export default s;

import{T as t,O as e,M as n,u as i,E as o,C as a}from"./index-31b72dba.js";import"@emotion/css";import"./index-82d14538.js";var s={display:"flex",cursor:"pointer",alignItems:"center",justifyContent:"center",transition:"all 0.2s",_focus:{zIndex:"1",boxShadow:"outline"}},r={_disabled:{opacity:.4,cursor:"not-allowed"}},l=function(t){switch(t.variant){case"line":return{tabList:{borderBottom:"2px",borderColor:"inherit"},tab:{borderBottom:"2px",borderColor:"transparent",mb:"-2px",_selected:{color:{light:(n=(e=t).color)+".600",dark:n+".300"}[e.colorMode],borderColor:"currentColor"},_active:{bg:"gray.200"},_disabled:{opacity:.4,cursor:"not-allowed"}}};case"enclosed":return function(t){var e=t.color,n=t.colorMode,i={light:e+".600",dark:e+".300"},o={light:"#fff",dark:t.theme.colors.gray[800]};return{tab:{roundedTop:"md",border:"1px",borderColor:"transparent",mb:"-1px",_selected:{color:i[n],borderColor:"inherit",borderBottomColor:o[n]}},tabList:{mb:"-1px",borderBottom:"1px",borderColor:"inherit"}}}(t);case"enclosed-colored":return function(t){var e=t.color,n=t.colorMode;return{tab:{border:"1px",borderColor:"inherit",bg:{light:"gray.50",dark:"whiteAlpha.50"}[n],mb:"-1px",_notLast:{mr:"-1px"},_selected:{bg:{light:"#fff",dark:"gray.800"}[n],color:{light:e+".600",dark:e+".300"}[n],borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"}},tabList:{mb:"-1px",borderBottom:"1px",borderColor:"inherit"}}}(t);case"soft-rounded":return function(t){var e=t.color;return{tab:{rounded:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:e+".700",bg:e+".100"}},tabList:{}}}(t);case"solid-rounded":return function(t){var e=t.color,n=t.colorMode;return{tab:{rounded:"full",fontWeight:"semibold",color:{light:"gray.600",dark:"inherit"}[n],_selected:{color:{light:"#fff",dark:"gray.800"}[n],bg:{light:e+".600",dark:e+".300"}[n]}},tabList:{}}}(t);case"unstyled":return{}}var e,n},d=function(t){var e,n,i=t.align,o=t.orientation;return"horizontal"===o&&(e={alignItems:"center",justifyContent:{end:"flex-end",center:"center",start:"flex-start"}[i],maxWidth:"full"},n={height:"100%"}),"vertical"===o&&(e={flexDirection:"column"},n={width:"100%"}),{tabList:e,tab:n}},c={sm:{padding:"0.25rem 1rem",fontSize:"0.85rem"},md:{fontSize:"1rem",padding:"0.5rem 1rem"},lg:{fontSize:"1.15rem",padding:"0.75rem 1rem"}},u={name:"CTabs",mixins:[t("CTabs")],props:{index:Number,defaultIndex:Number,isManual:Boolean,variant:{type:String,default:"line"},variantColor:{type:String,default:"blue"},align:{type:String,default:"start"},size:{type:String,default:"md"},orientation:{type:String,default:"horizontal"},isFitted:Boolean},provide:function(){var t=this;return{$TabContext:function(){return t.TabContext}}},data:function(){return{selectedPanelNode:void 0,selectedIndex:this.getInitialIndex(),manualIndex:this.index||this.defaultIndex||0}},computed:{TabContext:function(){return{id:this.id,selectedIndex:this.selectedIndex,index:this.actualIdx,manualIndex:this.manualIdx,onManualTabChange:this.onManualTabChange,isManual:this.isManual,onChangeTab:this.onChangeTab,selectedPanelRef:this.selectedPanelRef,onFocusPanel:this.onFocusPanel,color:this.variantColor,size:this.size,align:this.align,variant:this.variant,isFitted:this.isFitted,orientation:this.orientation,set:this.set}},isControlled:function(){return e(this.index)},id:function(){return"tabs-"+n()},actualIdx:function(){return this.isManual?this.index||this.defaultIndex||0:this.defaultIndex||0},manualIdx:function(){return this.isControlled?this.index:this.manualIndex}},created:function(){i(this.theme,"CTabs",this.variantColor)},methods:{getInitialIndex:function(){return this.isManual?this.index||this.defaultIndex||0:this.defaultIndex||0},onChangeTab:function(t){this.isControlled||(this.selectedIndex=t),this.isControlled&&this.isManual&&(this.selectedIndex=t),this.isManual||this.$emit("change",t)},onManualTabChange:function(t){this.isControlled||(this.manualIndex=t),this.isManual&&this.$emit("change",t)},onFocusPanel:function(){this.selectedPanelNode&&this.selectedPanelNode.focus()},set:function(t,e){return this[t]=e,this[t]}},render:function(t){return t(this.as,{class:[this.className],attrs:this.computedAttrs,on:this.computedListeners},this.$slots.default)}},h={name:"CTabList",mixins:[t("CTabList")],inject:["$TabContext"],data:function(){return{allNodes:{},validChildren:[],focusableIndexes:[]}},computed:{context:function(){return this.$TabContext()},componentStyles:function(){var t=this.context,e=t.align,n=t.variant,i=t.orientation;return Object.assign({},{display:"flex"},function(t){var e=t.theme,n=t.variant,i=t.align,o=t.orientation,a=l({variant:n,theme:e}),s=d({align:i,orientation:o});return Object.assign({},a&&a.tabList,s&&s.tabList)}({theme:this.theme,align:e,orientation:i,variant:n}))},enabledSelectedIndex:function(){var t=this.context.selectedIndex;return this.focusableIndexes.indexOf(t)},count:function(){return this.focusableIndexes.length}},mounted:function(){var t=this;this.$nextTick((function(){var e=t.$el.children;t.allNodes=Object.assign({},e)}))},methods:{updateIndex:function(t){var e=this.context.onChangeTab,n=this.focusableIndexes[t];this.allNodes[n].focus(),e&&e(n)},handleKeyDown:function(t){var e=this.context.onFocusPanel;if("ArrowRight"===t.key){t.preventDefault();var n=(this.enabledSelectedIndex+1)%this.count;this.updateIndex(n)}if("ArrowLeft"===t.key||"ArrowUp"===t.key){t.preventDefault();var i=(this.enabledSelectedIndex-1+this.count)%this.count;this.updateIndex(i)}"Home"===t.key&&(t.preventDefault(),this.updateIndex(0)),"End"===t.key&&(t.preventDefault(),this.updateIndex(this.count-1)),"ArrowDown"===t.key&&(t.preventDefault(),e&&e()),this.$emit("keydown",t)}},render:function(t){var e=this;this.validChildren=o(this.$slots.default);var n=this.context,i=n.id,s=n.isManual,r=n.manualIndex,l=n.selectedIndex,d=n.onManualTabChange,c=n.onChangeTab,u=n.orientation,h=o(this.$slots.default).map((function(n,o){return a(n,{props:{isSelected:s?o===r:o===l},nativeOn:{click:function(t){e.allNodes[o].focus(),d(o),c(o),e.$emit("click",t)}},attrs:{id:i+"-"+o}},t)}));return this.focusableIndexes=h.map((function(t,e){return!0===t.componentOptions.propsData.isDisabled?null:e})).filter((function(t){return null!=t})),t(this.as,{class:[this.className],attrs:Object.assign({},{role:"tablist","aria-orientation":u},this.computedAttrs),on:Object.assign({},this.computedListeners,{keydown:this.handleKeyDown})},h)}},b={name:"CTab",mixins:[t("CTab",!0)],inject:["$TabContext"],props:{isSelected:Boolean,isDisabled:Boolean,id:String,as:{type:[String,Object],default:"button"}},computed:{context:function(){return this.$TabContext()},componentStyles:function(){var t=this.context,e=t.color,n=t.isFitted,i=t.orientation,o=t.size,a=t.variant;return Object.assign({},{outline:"none"},function(t){var e=t.theme,n=t.colorMode,i=t.variant,o=t.color,a=t.size,u=t.isFitted,h=t.orientation,b=l({variant:i,color:o,theme:e,colorMode:n}),f=d({orientation:h});return Object.assign({},s,r,c[a],b&&b.tab,f&&f.tab,u&&{flex:1})}({colorMode:this.colorMode,theme:this.theme,color:e,isFitted:n,orientation:i,size:o,variant:a}))}},render:function(t){return t(this.as,{class:[this.className],attrs:Object.assign({},{role:"tab",tabIndex:this.isSelected?0:-1,id:"tab:"+this.id,type:"button",disabled:this.isDisabled,"aria-disabled":this.isDisabled,"aria-selected":this.isSelected,"aria-controls":"panel:"+this.id},this.computedAttrs),on:this.computedListeners},this.$slots.default)}},f={name:"CTabPanel",mixins:[t("CTabPanel")],props:{isSelected:Boolean,selectedPanelNode:Object,id:String},render:function(t){return t(this.as,{class:[this.className],attrs:Object.assign({},{role:"tabpanel",tabIndex:-1,"aria-labelledby":"tab:"+this.id,hidden:!this.isSelected,id:"panel:"+this.id,outline:0},this.computedAttrs),on:this.computedListeners},this.$slots.default)}},m={name:"CTabPanels",mixins:[t("CTabPanels")],inject:["$TabContext"],computed:{context:function(){return this.$TabContext()}},render:function(t){var e=this.context,n=e.selectedIndex,i=e.id,s=e.isManual,r=e.manualIndex,l=o(this.$slots.default).map((function(e,o){return a(e,{props:{isSelected:s?o===r:o===n,id:i+"-"+o}},t)}));return t(this.as,{class:[this.className],attrs:Object.assign({},{tabIndex:-1},this.computedAttrs),on:this.computedListeners},l)}};export{b as CTab,h as CTabList,f as CTabPanel,m as CTabPanels,u as CTabs};

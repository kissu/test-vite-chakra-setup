import{H as e,M as t,W as n,z as o,q as a,Z as i,w as r,R as s,y as c,E as l,x as d,T as u}from"./index-31b72dba.js";import"./internal-icons-9ada1ec8.js";import"@emotion/css";import{S as f}from"./index-82d14538.js";import"vue";import"./anime.es-3650d95a.js";import p from"./CBox.js";import{C as h}from"./index-acf190c9.js";import{c as v,s as b,b as m}from"./closebutton.styles-9318eb1d.js";import{CFade as y}from"./CTransition.js";import g from"./CPortal.js";import"./CNoSsr.js";var O="undefined"!=typeof document?document.body:null,x=new WeakMap,C=new WeakMap,k={},w=0,F=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],M=F.join(","),I="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function A(e,t){t=t||{};var n,o,a,i=[],r=[],s=e.querySelectorAll(M);for(t.includeContainer&&I.call(e,M)&&(s=Array.prototype.slice.apply(s)).unshift(e),n=0;n<s.length;n++)E(o=s[n])&&(0===(a=L(o))?i.push(o):r.push({documentOrder:n,tabIndex:a,node:o}));return r.sort(N).map((function(e){return e.node})).concat(i)}function E(e){return!(!j(e)||function(e){return function(e){return D(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t=function(e){for(var t=0;t<e.length;t++)if(e[t].checked)return e[t]}(e.ownerDocument.querySelectorAll('input[type="radio"][name="'+e.name+'"]'));return!t||t===e}(e)}(e)||L(e)<0)}function j(e){return!(e.disabled||function(e){return D(e)&&"hidden"===e.type}(e)||function(e){return null===e.offsetParent||"hidden"===getComputedStyle(e).visibility}(e))}A.isTabbable=function(e){if(!e)throw new Error("No node provided");if(!1===I.call(e,M))return!1;return E(e)},A.isFocusable=function(e){if(!e)throw new Error("No node provided");if(!1===I.call(e,S))return!1;return j(e)};var S=F.concat("iframe").join(",");function L(e){var t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:e.tabIndex:t}function N(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}function D(e){return"INPUT"===e.tagName}var $,B=A,T=function(){for(var e=arguments,t={},n=0;n<arguments.length;n++){var o=e[n];for(var a in o)R.call(o,a)&&(t[a]=o[a])}return t},R=Object.prototype.hasOwnProperty;var z,P=(z=[],{activateTrap:function(e){if(z.length>0){var t=z[z.length-1];t!==e&&t.pause()}var n=z.indexOf(e);-1===n||z.splice(n,1),z.push(e)},deactivateTrap:function(e){var t=z.indexOf(e);-1!==t&&z.splice(t,1),z.length>0&&z[z.length-1].unpause()}});function W(e){return setTimeout(e,0)}var _=function(e,t){var n=document,o="string"==typeof e?n.querySelector(e):e,a=T({returnFocusOnDeactivate:!0,escapeDeactivates:!0},t),i={firstTabbableNode:null,lastTabbableNode:null,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1},r={activate:function(e){if(i.active)return;b(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=n.activeElement;var t=e&&e.onActivate?e.onActivate:a.onActivate;t&&t();return c(),r},deactivate:s,pause:function(){if(i.paused||!i.active)return;i.paused=!0,l()},unpause:function(){if(!i.paused||!i.active)return;i.paused=!1,b(),c()}};return r;function s(e){if(i.active){clearTimeout($),l(),i.active=!1,i.paused=!1,P.deactivateTrap(r);var t=e&&void 0!==e.onDeactivate?e.onDeactivate:a.onDeactivate;return t&&t(),(e&&void 0!==e.returnFocus?e.returnFocus:a.returnFocusOnDeactivate)&&W((function(){var e;m((e=i.nodeFocusedBeforeActivation,d("setReturnFocus")||e))})),r}}function c(){if(i.active)return P.activateTrap(r),$=W((function(){m(u())})),n.addEventListener("focusin",p,!0),n.addEventListener("mousedown",f,{capture:!0,passive:!1}),n.addEventListener("touchstart",f,{capture:!0,passive:!1}),n.addEventListener("click",v,{capture:!0,passive:!1}),n.addEventListener("keydown",h,{capture:!0,passive:!1}),r}function l(){if(i.active)return n.removeEventListener("focusin",p,!0),n.removeEventListener("mousedown",f,!0),n.removeEventListener("touchstart",f,!0),n.removeEventListener("click",v,!0),n.removeEventListener("keydown",h,!0),r}function d(e){var t=a[e],o=t;if(!t)return null;if("string"==typeof t&&!(o=n.querySelector(t)))throw new Error("`"+e+"` refers to no known node");if("function"==typeof t&&!(o=t()))throw new Error("`"+e+"` did not return a node");return o}function u(){var e;if(!(e=null!==d("initialFocus")?d("initialFocus"):o.contains(n.activeElement)?n.activeElement:i.firstTabbableNode||d("fallbackFocus")))throw new Error("Your focus-trap needs to have at least one focusable element");return e}function f(e){o.contains(e.target)||(a.clickOutsideDeactivates?s({returnFocus:!B.isFocusable(e.target)}):a.allowOutsideClick&&a.allowOutsideClick(e)||e.preventDefault())}function p(e){o.contains(e.target)||e.target instanceof Document||(e.stopImmediatePropagation(),m(i.mostRecentlyFocusedNode||u()))}function h(e){if(!1!==a.escapeDeactivates&&function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e))return e.preventDefault(),void s();(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){if(b(),e.shiftKey&&e.target===i.firstTabbableNode)return e.preventDefault(),void m(i.lastTabbableNode);if(!e.shiftKey&&e.target===i.lastTabbableNode)e.preventDefault(),m(i.firstTabbableNode)}(e)}function v(e){a.clickOutsideDeactivates||o.contains(e.target)||a.allowOutsideClick&&a.allowOutsideClick(e)||(e.preventDefault(),e.stopImmediatePropagation())}function b(){var e=B(o);i.firstTabbableNode=e[0]||u(),i.lastTabbableNode=e[e.length-1]||u()}function m(e){e!==n.activeElement&&(e&&e.focus?(e.focus(),i.mostRecentlyFocusedNode=e,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(e)&&e.select()):m(u()))}},q={props:{active:{type:Boolean,default:!0},escapeDeactivates:{type:Boolean,default:!0},returnFocusOnDeactivate:{type:Boolean,default:!0},allowOutsideClick:{type:Boolean,default:!0},initialFocus:[String,Function],fallbackFocus:[String,Function]},model:{event:"update:active",prop:"active"},mounted:function(){var e=this;this.$watch("active",(function(t){t?(e.trap=_(e.$el,{escapeDeactivates:e.escapeDeactivates,allowOutsideClick:function(){return e.allowOutsideClick},returnFocusOnDeactivate:e.returnFocusOnDeactivate,onActivate:function(){e.$emit("update:active",!0),e.$emit("activate")},onDeactivate:function(){e.$emit("update:active",!1),e.$emit("deactivate")},initialFocus:e.initialFocus||function(){return e.$el},fallbackFocus:e.fallbackFocus}),e.trap.activate()):e.trap&&e.trap.deactivate()}),{immediate:!0})},beforeDestroy:function(){this.trap&&this.trap.deactivate(),this.trap=null},methods:{activate:function(){this.trap.activate()},deactivate:function(){this.trap.deactivate()}},render:function(){var e=this.$slots.default;if(!e||!e.length||e.length>1)throw new Error("FocusTrap requires exactly one child");return e[0]}},H={isOpen:Boolean,initialFocusRef:[e,Object,String,Function],finalFocusRef:[e,Object,String,Function],contentRef:[e,Object,String],blockScrollOnMount:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},closeOnOverlayClick:{type:Boolean,default:!0},useInert:{type:Boolean,default:!0},scrollBehavior:{type:f,default:"outside"},isCentered:Boolean,addAriaLabels:{type:[Boolean,Object],default:!0},preserveScrollBarGap:Boolean,formatIds:{type:Function,default:function(e){return{content:"modal-"+e,header:"modal-"+e+"-header",body:"modal-"+e+"-body"}}},container:e,returnFocusOnClose:{type:Boolean,default:!0},id:String,size:{type:String,default:"md"},onClose:{type:Function,default:function(){return null}}};
/*!
  * focus-trap-vue v0.0.4
  * (c) 2019 Eduardo San Martin Morote
  * @license MIT
  */var U={name:"CModal",props:H,data:function(){return{addAriaLabelledby:!1,addAriaDescribedby:!1,modalNode:void 0,contentNode:void 0}},provide:function(){var e=this;return{$ModalContext:function(){return e.ModalContext}}},computed:{_id:function(){return this.id||t(4)},contentId:function(){return this.formatIds(this._id).content},headerId:function(){return this.formatIds(this._id).header},bodyId:function(){return this.formatIds(this._id).body},modalId:function(){return"modal-"+this._id},portalTarget:function(){return"#modal-portal-"+this._id},ModalContext:function(){return{isOpen:this.isOpen,initialFocusRef:this.initialFocusRef,onClose:this.onClose,blockScrollOnMount:this.blockScrollOnMount,closeOnEsc:this.closeOnEsc,closeOnOverlayClick:this.closeOnOverlayClick,returnFocusOnClose:this.returnFocusOnClose,contentNode:this.contentNode,scrollBehavior:this.scrollBehavior,isCentered:this.isCentered,size:this.size,headerId:this.headerId,bodyId:this.bodyId,contentId:this.contentId,addAriaLabelledby:this.addAriaLabelledby,addAriaDescribedby:this.addAriaDescribedby}}},mounted:function(){var e=this;"object"===n(this.addAriaLabels)&&(this.addAriaLabelledby=this.addAriaLabels.header,this.addAriaDescribedby=this.addAriaLabels.body),"boolean"==typeof this.addAriaLabels&&(this.addAriaLabelledby=this.addAriaLabels,this.addAriaDescribedby=this.addAriaLabels),this.$nextTick((function(){e.modalNode=o(e.modalId)}));var t=function(t){"Escape"===t.key&&e.closeOnEsc&&e.onClose(t,"pressedEscape")};this.$watch((function(e){return[e.isOpen,e.blockScrollOnMount]}),(function(){e.isOpen&&!e.closeOnOverlayClick?a&&document.addEventListener("keydown",t):document.addEventListener("keydown",t)})),this.$watch("isOpen",(function(){e.isOpen||document.removeEventListener("keydown",t)}));var i=null;this.$watch((function(e){return[e.isOpen,e.useInert]}),(function(){var t=e.mountNode;e.isOpen&&a?(e.useInert&&(i=function(e,t,n){void 0===t&&(t=O),void 0===n&&(n="data-aria-hidden");var o=Array.isArray(e)?e:[e];k[n]||(k[n]=new WeakMap);var a=k[n],i=[],r=function(e){!e||o.indexOf(e)>=0||Array.prototype.forEach.call(e.children,(function(e){if(o.some((function(t){return e.contains(t)})))r(e);else{var t=e.getAttribute("aria-hidden"),s=null!==t&&"false"!==t,c=(x.get(e)||0)+1,l=(a.get(e)||0)+1;x.set(e,c),a.set(e,l),i.push(e),1===c&&s&&C.set(e,!0),1===l&&e.setAttribute(n,"true"),s||e.setAttribute("aria-hidden","true")}}))};return r(t),w++,function(){i.forEach((function(e){var t=x.get(e)-1,o=a.get(e)-1;x.set(e,t),a.set(e,o),t||(C.has(e)||e.removeAttribute("aria-hidden"),C.delete(e)),o||e.removeAttribute(n)})),--w||(x=new WeakMap,x=new WeakMap,C=new WeakMap,k={})}}(t)),e.contentNode=o(e.contentId)):e.useInert&&null!=i&&i()}))},methods:{activateFocusLock:function(){var e=this;setTimeout((function(){if(e.initialFocusRef){var t=i(e.initialFocusRef)?e.getNode(e.initialFocusRef()):e.getNode(e.initialFocusRef);t&&t.focus()}else{var n=o(e.contentId);if(n){var a=r(n);if(0===a.length)n.focus();else{var s=a[0];s&&s.focus()}}}}))},deactivateFocusLock:function(){var e=this;setTimeout((function(){if(e.finalFocusRef){var t=i(e.finalFocusRef)?e.getNode(e.finalFocusRef()):e.getNode(e.finalFocusRef);t?a&&t.focus():console.warn('[ChakraUI Modal]: Unable to locate final focus node "'+e.finalFocusRef+'".')}}))},getNode:function(e){return"object"===n(e)?s(e)?e.$el:e:"string"==typeof e?c(e):null}},render:function(e){var t=l(this.$slots.default);return e(g,{props:{append:!0,target:this.portalTarget,disabled:!1,slim:!0,unmountOnDestroy:!0,targetSlim:!0},attrs:{"data-chakra-component":"CModal"}},[e(q,{props:{returnFocusOnDeactivate:this.returnFocusOnClose&&!this.finalFocusRef,active:this.isOpen},on:{activate:this.activateFocusLock,deactivate:this.deactivateFocusLock}},[e("div",{style:{position:"relative"},directives:[{name:"scroll-lock",value:this.isOpen&&this.blockScrollOnMount}]},[e(y,{props:{enterEasing:"easeInCubic",leaveEasing:"easeOutCubic"}},this.isOpen&&[e("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0}},t)])])])])}},Y={name:"CModalOverlay",functional:!0,render:function(e,t){var n=t.data,o=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&-1===t.indexOf(o)&&(n[o]=e[o]);return n}(t,["data"]);return e(p,Object.assign({},o,{attrs:Object.assign({},{pos:"fixed",bg:"rgba(0,0,0,0.4)",left:"0",top:"0",w:"100vw",h:"100vh",zIndex:"overlay"},n.attrs,{"data-chakra-component":"CModalOverlay"})}))}},K={name:"CModalContent",inheritAttrs:!1,inject:["$ModalContext","$chakraColorMode"],props:{noStyles:Boolean,zIndex:{type:String,default:"modal"}},data:function(){return{colorModeStyles:{light:{bg:"white",shadow:"0 7px 14px 0 rgba(0,0,0, 0.1), 0 3px 6px 0 rgba(0, 0, 0, .07)"},dark:{bg:"gray.700",shadow:"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px",color:"whiteAlpha.900"}},wrapperStyle:{},contentStyle:{}}},computed:{context:function(){return this.$ModalContext()},colorMode:function(){return this.$chakraColorMode()},boxStyleProps:function(){return this.colorModeStyles[this.colorMode]},componentStyles:function(){return Object.assign({},this.wrapperStyle,{pos:"fixed",left:"0",top:"0",w:"100%",h:"100%",zIndex:this.zIndex||"modal"})}},created:function(){var e=this.context,t=e.isCentered,n=e.scrollBehavior,o={},a={};t?o={display:"flex",alignItems:"center",justifyContent:"center"}:a={top:"3.75rem",mx:"auto"},"inside"===n&&(o=Object.assign({},o,{maxHeight:"calc(100vh - 7.5rem)",overflow:"hidden",top:"3.75rem"}),a=Object.assign({},a,{height:"100%",top:0})),"outside"===n&&(o=Object.assign({},o,{overflowY:"auto",overflowX:"hidden"}),a=Object.assign({},a,{my:"3.75rem",top:0})),this.noStyles&&(o={},a={}),this.wrapperStyle=o,this.contentStyle=a},render:function(e){var t=this,n=this.context,o=n.onClose,a=n.bodyId,i=n.headerId,r=n.contentId,s=n.size,c=n.closeOnEsc,l=n.addAriaLabelledby,u=n.addAriaDescribedby,f=n.closeOnOverlayClick;return e(p,{attrs:Object.assign({},this.wrapperStyle,{pos:"fixed",left:"0",top:"0",w:"100%",h:"100%",zIndex:this.zIndex||"modal"}),on:{click:function(e){e.stopPropagation(),f&&(o&&o(e,"clickedOverlay"),t.$emit("clickedOverlay",e))},keydown:function(e){"Escape"===e.key&&(e.stopPropagation(),c&&o(e,"pressedEscape"))}}},[e(p,{props:{as:"section"},attrs:Object.assign({},{role:"dialog","aria-modal":"true",tabIndex:-1,id:r},u&&{"aria-describedby":a},l&&{"aria-labelledby":i},{outline:0,maxWidth:s,w:"100%",pos:"relative",d:"flex",flexDir:"column",zIndex:this.zIndex,fontFamily:"body"},this.boxStyleProps,this.contentStyle,{"data-chakra-component":"CModalContent"},this.$attrs),nativeOn:{click:d((function(e){return t.$emit("click",e)}),(function(e){return e.stopPropagation()}))}},this.$slots.default)])}},G={name:"CModalHeader",mixins:[u("CModalHeader")],inject:["$ModalContext"],computed:{context:function(){return this.$ModalContext()},componentStyles:function(){return{px:6,py:4,position:"relative",fontSize:"xl",fontWeight:"semibold"}}},render:function(e){var t=this.context.headerId;return e("header",{class:[this.className],attrs:Object.assign({},{id:t},this.computedAttrs),on:this.computedListeners},this.$slots.default)}},X={name:"CModalFooter",functional:!0,render:function(e,t){var n=t.slots,o=t.data;return e(p,Object.assign({},o,{attrs:Object.assign({},{as:"footer",display:"flex",px:6,py:4,justifyContent:"flex-end","data-chakra-component":"CModalFooter"},o.attrs)}),n().default)}},Z={name:"CModalBody",mixins:[u("CModalBody")],inject:["$ModalContext"],computed:{context:function(){return this.$ModalContext()},componentStyles:function(){var e={};return"inside"===this.context.scrollBehavior&&(e={overflowY:"auto"}),Object.assign({},{px:6,py:2,flex:1},e)}},render:function(e){var t=this.context.bodyId;return e(this.as,{class:[this.className],attrs:Object.assign({},{id:t,"data-chakra-component":"CModalBody"},this.computedAttrs),on:this.computedListeners},this.$slots.default)}},J={name:"CModalCloseButton",mixins:[u("CModalCloseButton",!0)],inject:["$ModalContext"],props:v,computed:{context:function(){return this.$ModalContext()},componentStyles:function(){var e=this.colorMode,t=b[this.size]&&b[this.size].button;return Object.assign({},{outline:"none",h:t,w:t,disabled:this.isDisabled,cursor:"pointer",_hover:{bg:{light:"blackAlpha.100",dark:"whiteAlpha.100"}[e]},_active:{bg:{light:"blackAlpha.200",dark:"whiteAlpha.200"}[e]},position:"absolute",top:"8px",right:"12px"},m)}},render:function(e){var t=this,n=this.context.onClose,o=b[this.size]&&b[this.size].icon;return e("button",{class:[this.className],attrs:Object.assign({},{"data-chakra-component":"CModalCloseButton"},this.computedAttrs,{"aria-label":this.ariaLabel,"aria-disabled":this.isDisabled}),on:Object.assign({},this.computedListeners,{click:function(e){d(n,(function(e){return t.$emit("click",e)}))(e)}},this.computedListeners)},[e(h,{props:{color:H.color,name:"close",size:o},attrs:{focusable:!1,"aria-hidden":!0}})])}};export{U as CModal,Z as CModalBody,J as CModalCloseButton,K as CModalContent,X as CModalFooter,G as CModalHeader,Y as CModalOverlay};

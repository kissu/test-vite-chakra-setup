import{T as t,B as n,O as e,M as i,a as o,S as s}from"./index-31b72dba.js";import"./internal-icons-9ada1ec8.js";import"@emotion/css";import"./index-82d14538.js";import"./anime.es-3650d95a.js";import"./CBox.js";import{i as r,C as d}from"./index-acf190c9.js";import a from"./CPseudoBox.js";import"./CTransition.js";import c from"./CCollapse.js";var l={name:"CAccordion",mixins:[t("CAccordion")],props:{allowMultiple:Boolean,allowToggle:Boolean,index:{type:Number,default:null},defaultIndex:{type:[Array,Number],default:0}},data:function(){var t=this;return{expandedIndex:t.allowMultiple?t.defaultIndex||[]:t.defaultIndex||0}},computed:{isControlled:function(){return null!=this.index},_index:{get:function(){return this.isControlled?this.index:this.expandedIndex},set:function(t){this.expandedIndex=t}}},methods:{getExpandCondition:function(t,n){return Array.isArray(t)?t.includes(n):t===n}},render:function(t){var e=this,i=this.$slots.default.filter((function(t){return t.tag})),o=n(i,t).map((function(n,i){return t(n.componentOptions.Ctor,Object.assign({},n.data,n.componentOptions.listeners||{},{props:Object.assign({},n.data.props||{},n.componentOptions.propsData,{isOpen:e.getExpandCondition(e._index,i)}),attrs:n.data.attrs||{},on:{change:function(t){if(e.allowMultiple)if(t){var n=e._index.concat([i]);e.isControlled||(e.expandedIndex=n),e.$emit("change",n)}else{var o=e._index.filter((function(t){return t!==i}));e.isControlled||(e.expandedIndex=o),e.$emit("change",o)}else t?(e.isControlled||(e.expandedIndex=i),e.$emit("change",i)):e.allowToggle&&(e.isControlled||(e.expandedIndex=null),e.$emit("change",null))}}}),n.componentOptions.children)}));return t("div",{class:this.className,attrs:this.computedAttrs,on:this.computedListeners},o)}},p={name:"CAccordionItem",mixins:[t("CAccordionItem",!0)],props:{isOpen:{type:Boolean,default:null},defaultIsOpen:{type:Boolean,default:!1},id:String,isDisabled:{type:Boolean,default:!1}},provide:function(){var t=this;return{$AccordionContext:function(){return t.AccordionContext}}},data:function(){return{isExpanded:this.defaultIsOpen||!1}},computed:{AccordionContext:function(){return{isExpanded:this._isExpanded,isDisabled:this.isDisabled,headerId:this.headerId,panelId:this.panelId,onToggle:this.onToggle}},isControlled:function(){return e(this.isOpen)},_isExpanded:{get:function(){return this.isControlled?this.isOpen:this.isExpanded},set:function(t){this.isExpanded=t}},_id:function(){return this.id||i()},headerId:function(){return"accordion-header-"+this._id},panelId:function(){return"accordion-panel-"+this._id},componentStyles:function(){return{borderTopWidth:"1px",_last:{borderBottomWidth:"1px"}}}},methods:{onToggle:function(){this.$emit("change",!this._isExpanded),this.isControlled||(this._isExpanded=!this._isExpanded)}},render:function(t){return t(a,{class:this.className,props:Object.assign({},o(this.$props),{borderTopWidth:"1px",_last:{borderBottomWidth:"1px"}}),attrs:this.computedAttrs},[this.$scopedSlots.default({isExpanded:this._isExpanded,isDisabled:this.isDisabled})])}},u={name:"CAccordionHeader",inheritAttrs:!1,inject:["$AccordionContext"],computed:{context:function(){return this.$AccordionContext()},computedAttrs:function(){return this.$data.attrs$}},data:function(){return{attrs$:{}}},watch:{$attrs:s("attrs$")},render:function(t){var n=this,e=this.context,i=e.isExpanded,o=e.panelId,s=e.headerId,r=e.isDisabled,d=e.onToggle;return t(a,{attrs:Object.assign({},{as:"button",display:"flex",alignItems:"center",width:"100%",outline:0,transition:"all 0.2s",px:4,py:2,_focus:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:"0.4",cursor:"not-allowed"},id:s,type:"button",disabled:r,"aria-disabled":r,"aria-expanded":i?"true":"false","aria-controls":o},this.computedAttrs,{"data-chakra-component":"CAccordionHeader"}),on:this.computedListeners,nativeOn:{click:function(t){d(),n.$emit("click",t)}}},this.$slots.default)}},h={name:"CAccordionPanel",inheritAttrs:!1,inject:["$AccordionContext"],computed:{context:function(){return this.$AccordionContext()},computedAttrs:function(){return this.$attrs}},render:function(t){var n=this.context,e=n.isExpanded,i=n.panelId,o=n.headerId;return t(c,{props:{isOpen:e},on:this.computedListeners,attrs:Object.assign({},{pt:2,px:4,pb:5},this.computedAttrs,{id:i,"aria-labelledby":o,"aria-hidden":!e,role:"region","data-chakra-component":"CAccordionPanel"})},this.$slots.default)}},m={name:"CAccordionIcon",mixins:[t("CAccordionIcon")],inject:["$AccordionContext"],props:r,computed:{context:function(){return this.$AccordionContext()},componentStyles:function(){var t=this.context,n=t.isExpanded;return{opacity:t.isDisabled?.4:1,transform:n?"rotate(-180deg)":null,transition:"transform 0.2s",transformOrigin:"center"}}},render:function(t){return t(d,{class:this.className,props:{size:this.size||"1.25em",name:this.name||"chevron-down"},attrs:this.computedAttrs,on:this.computedListeners})}};export{l as CAccordion,u as CAccordionHeader,m as CAccordionIcon,p as CAccordionItem,h as CAccordionPanel};
